<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Nepal Smart Trip Planner</title>
<link rel="stylesheet" href="style.css">
</head>

<body>

<header>
  <h1>Nepal Smart Budget Planner ðŸ‡³ðŸ‡µ</h1>
</header>

<div class="container">

<!-- PROMPT -->
<div class="prompt-box">
  <input type="text" id="prompt" placeholder="Example: I have 3000 and want dating trip">
  <button onclick="generateTrip()">Search</button>
</div>

<button id="backBtn" class="back hidden" onclick="goBack()">â¬… Back</button>

<!-- RESULT -->
<div id="result"></div>

<!-- CULTURAL POSTS -->
<h2 id="culturalTitle">Cultural Events</h2>
<div id="culturalPosts" class="cultural-grid">
  
  <div class="card">
    <img src="https://source.unsplash.com/400x250/?nepal,festival">
    <h3>Newari Jatra Experience</h3>
    <p>Experience culture, food & rituals</p>
    <button onclick="openCulturalDetail()">View Details</button>
  </div>

</div>

<!-- CULTURE DETAIL -->
<div id="culturalDetail" class="hidden"></div>

</div>


<script>
// ================= DATA =================
const trips = {
  dating: [
    { name: "Pokhara Lakeside", image: "https://source.unsplash.com/600x350/?pokhara,lake", map: "Pokhara" },
    { name: "Nagarkot Sunset", image: "https://source.unsplash.com/600x350/?nagarkot,sunset", map: "Nagarkot" }
  ],
  rural: [
    { name: "Ghale Gaun Village", image: "https://source.unsplash.com/600x350/?nepal,village", map: "Ghale Gaun" }
  ],
  mountain: [
    { name: "Ghandruk View Point", image: "https://source.unsplash.com/600x350/?ghandruk", map: "Ghandruk" }
  ],
  cultural: [
    { name: "Bhaktapur Durbar", image: "https://source.unsplash.com/600x350/?bhaktapur", map: "Bhaktapur" }
  ]
};

let index = 0;
let activeList = [];

// ================= MAIN FUNCTION =================
function generateTrip() {
  const text = document.getElementById("prompt").value.toLowerCase();
  if(text.trim()==="") return alert("Please enter your plan ðŸ˜Š");

  let type = "dating";
  if(text.includes("rural")||text.includes("village")) type="rural";
  if(text.includes("mountain")||text.includes("himal")) type="mountain";
  if(text.includes("culture")||text.includes("jatra")) type="cultural";

  activeList = trips[type];
  index = 0;

  showTrip();
}

// ================= SHOW TRIP =================
function showTrip() {
  const trip = activeList[index];

  document.getElementById("result").innerHTML = `
    <div class="card">
      <h2>${trip.name}</h2>
      <img src="${trip.image}">
      <iframe src="https://maps.google.com/maps?q=${trip.map}&t=&z=11&output=embed"></iframe>

      <div class="buttons">
        <button class="book" onclick="alert('Booked Successfully!')">Book Now</button>
        <button class="next" onclick="nextTrip()">Next Option âžœ</button>
      </div>
    </div>
  `;

  hideHome();
  document.getElementById("result").classList.remove("hidden");
  document.getElementById("backBtn").classList.remove("hidden");
}

// ================= NEXT =================
function nextTrip(){
  index++;
  if(index>=activeList.length) index=0;
  showTrip();
}

// ================= CULTURAL DETAIL =================
function openCulturalDetail(){
  hideHome();
  
  document.getElementById("culturalDetail").innerHTML = `
    <div class="card">
      <h2>Newar Jatra Cultural Event</h2>
      <img src="https://source.unsplash.com/600x350/?newar,festival">
      <p><b>Caste:</b> Newar</p>
      <p><b>Budget:</b> NPR 1000</p>
      <p><b>People:</b> 2</p>
      <p><i>"We show Jatra, culture & food for NPR 1000 for 2 persons."</i></p>

      <iframe src="https://maps.google.com/maps?q=Bhaktapur&t=&z=12&output=embed"></iframe>

      <button class="book" onclick="alert('Cultural Event Booked!')">Book Cultural Event</button>
    </div>
  `;

  document.getElementById("culturalDetail").classList.remove("hidden");
  document.getElementById("backBtn").classList.remove("hidden");
}

// ================= COMMON =================
function hideHome(){
  document.getElementById("culturalPosts").classList.add("hidden");
  document.getElementById("culturalTitle").classList.add("hidden");
}

function goBack(){
  document.getElementById("result").classList.add("hidden");
  document.getElementById("culturalDetail").classList.add("hidden");
  document.getElementById("backBtn").classList.add("hidden");

  document.getElementById("culturalPosts").classList.remove("hidden");
  document.getElementById("culturalTitle").classList.remove("hidden");
}
</script>

</body>
</html>
